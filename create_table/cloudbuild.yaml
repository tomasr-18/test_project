steps:
# Steg för att installera Google Cloud SDK
- name: 'gcr.io/google.com/cloudsdktool/cloud-sdk'
  entrypoint: 'gcloud'
  args:
  - 'functions'
  - 'deploy'
  - 'create_bigquery_table'  # Byt ut med namnet på din Cloud Function
  - '--runtime'
  - 'python39'
  - '--trigger-http'
  - '--entry-point'
  - 'create_bigquery_table'  # Byt ut med namnet på din funktion
  - '--region'
  - 'europe-west1'
  - '--allow-unauthenticated'  # Om du vill att funktionen ska vara offentlig

timeout: '600s'


options:  
  defaultLogsBucketBehavior: REGIONAL_USER_OWNED_BUCKET
  logging: CLOUD_LOGGING_ONLY

# Se till att serviceAccount är rätt stavat och har tillräckliga rättigheter
serviceAccount: 'service-account-bigquery@tomastestproject-433206.iam.gserviceaccount.com'